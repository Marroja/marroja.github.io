<!DOCTYPE HTML>
<html lang="es" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Cómo usarlo - Osciloscopio</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../cap_00_intro/index.html">Introducción</a></li><li class="chapter-item expanded "><a href="../cap_01_manual_usuario/index.html"><strong aria-hidden="true">1.</strong> Manual de usuario</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cap_01_manual_usuario/01_alambrado.html"><strong aria-hidden="true">1.1.</strong> Cómo armarlo</a></li><li class="chapter-item expanded "><a href="../cap_01_manual_usuario/02_esp32.html"><strong aria-hidden="true">1.2.</strong> Cómo programarlo</a></li><li class="chapter-item expanded "><a href="../cap_01_manual_usuario/03_aplicacion_java.html" class="active"><strong aria-hidden="true">1.3.</strong> Cómo usarlo</a></li></ol></li><li class="chapter-item expanded "><a href="../cap_02_disenno/index.html"><strong aria-hidden="true">2.</strong> Entender el diseño</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cap_02_disenno/00_ideas_disenno.html"><strong aria-hidden="true">2.1.</strong> Diseños descartados</a></li><li class="chapter-item expanded "><a href="../cap_02_disenno/01_alambrado.html"><strong aria-hidden="true">2.2.</strong> Diseño circuito</a></li><li class="chapter-item expanded "><a href="../cap_02_disenno/02_esp32.html"><strong aria-hidden="true">2.3.</strong> Diseño con ESP-32</a></li><li class="chapter-item expanded "><a href="../cap_02_disenno/03_aplicacion_java.html"><strong aria-hidden="true">2.4.</strong> Diseño interfaz usuario</a></li></ol></li><li class="chapter-item expanded "><a href="../cap_03_avanzado/index.html"><strong aria-hidden="true">3.</strong> Usuario avanzado</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cap_03_avanzado/01_alambrado.html"><strong aria-hidden="true">3.1.</strong> Diseño a profundidad (circuito)</a></li><li class="chapter-item expanded "><a href="../cap_03_avanzado/02_programacion.html"><strong aria-hidden="true">3.2.</strong> Diseño a profundidad (ESP-32)</a></li><li class="chapter-item expanded "><a href="../cap_03_avanzado/03_java.html"><strong aria-hidden="true">3.3.</strong> Diseño a profundidad (aplicación Java)</a></li></ol></li><li class="chapter-item expanded "><a href="../cap_99_extras/index.html"><strong aria-hidden="true">4.</strong> Extras</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cap_99_extras/correo_desfase_dos_ESP.html"><strong aria-hidden="true">4.1.</strong> Correo desfase</a></li><li class="chapter-item expanded "><a href="../cap_99_extras/correo_inversion_condens.html"><strong aria-hidden="true">4.2.</strong> Correo inversión condensadores</a></li><li class="chapter-item expanded "><a href="../cap_99_extras/correo_ion_litio.html"><strong aria-hidden="true">4.3.</strong> Correo baterías ion litio</a></li><li class="chapter-item expanded "><a href="../cap_99_extras/correo_protocolo_sennal.html"><strong aria-hidden="true">4.4.</strong> Correo protocolo señal</a></li><li class="chapter-item expanded "><a href="../cap_99_extras/programa_arduino.html"><strong aria-hidden="true">4.5.</strong> Programa arduino</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Osciloscopio</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="cómo-usarlo"><a class="header" href="#cómo-usarlo">Cómo usarlo</a></h1>
<p>Aquí veremos cómo utilizar la aplicación del osciloscopio. En realidad existen tres aplicaciones presentadas en este proyecto, existe un generador de funciones sinusoidales, una aplicación que actúa como intermediario (o traductor) entre el puerto serial al que está conectado el ESP-32 y por último, una aplicación en la cual se grafican las señales leídas. </p>
<h2 id="graficador"><a class="header" href="#graficador">Graficador</a></h2>
<p>La interfaz al abrir el programa llamado &quot;graficador-multicanal-udp.jar&quot; debería de ser como la siguiente aquí mostrada. En caso de no poder ver la ventana secundaria (En la que se muestra la escala X, escala Y etc) presione la tecla F1 de su teclado.</p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura01.png?raw=true" />
</p>
<p>En esta aplicación es en donde podremos ver las señales que leamos con nuestro osciloscopio o las señales que simulemos con el generador de señales sinusoidales. Estas tres aplicaciones estarán conectadas por puertos UDP (un protocolo de transferencia de datos que tiene la propia computadora) por defecto, el programa para la graficación estará conectado a los puertos 8080 y 8081. Esto vale la pena tenerlo presente. </p>
<p>En este momento no podemos visualizar nada en esta aplicación ya que no estamos enviando ningún valor para que se grafique, para ello deberemos iniciar los otros programas. </p>
<p>Exploraremos más adelante cómo manipular la imagen que estamos viendo, por el momento nos enfocaremos en obtener una lectura de voltaje en pantalla.</p>
<h2 id="generador-de-función-seno"><a class="header" href="#generador-de-función-seno">Generador de función seno</a></h2>
<p>Podemos arrancar entonces el programa llamado &quot;generador-seno-udp.jar&quot; y deberíamos ver una ventana como la siguiente: </p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura02.png?raw=true" />
</p>
<p>Por defecto, esta aplicación siempre se abrirá con los valores ahí marcados, hagamos una breve revisión de qué significa cada uno de ellos:</p>
<ul>
<li>PUERTO -&gt; Es el puerto UDP al cual se encuentra conectado (recordar que el graficador solo puede leer dos puertos, el 8080 y el 8081 por defecto).</li>
<li>PERIODO -&gt; Es el periodo de la señal sinusoidal que generaremos, este tiempo siempre estará en nanosegundos. El valor escrito por defecto (1000_000_000) es equivalente a un segundo. Al momento de introducir números se puede usar el guión bajo &quot;_&quot; como separador. </li>
<li>AMPLITUD -&gt; Será la amplitud de la señal que generaremos en Volts.</li>
<li>DESFASE -&gt; La señal sinusoidal aquí generada se genera a partir de la función matemática Math.sin() y usamos el argumento usado es siempre el tiempo en nanosegundos. Esto significa que si abrimos dos generadores de sinusoidales y a los dos les damos el mismo desfase, estarán en fase entre ellas. </li>
</ul>
<p>NOTA: Para aplicar los cambios de los valores es importante SIEMPRE presionar la tecla Enter en las celdas que hayan sido modificadas.</p>
<p>Podemos comenzar encendiendo nuestro generador de senos mientras tengamos ya abierto el graficador. Deberíamos de obtener algo como lo siguiente:</p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura03.png?raw=true" />
</p>
<p>Parecería que únicamente apareció una línea amarilla, sin embargo, si observamos con detalle podremos ver que esa línea está en movimiento. Podemos cambiar la amplitud de la señal que generamos seleccionando la celda de AMPLITUD y escribiendo un número, como 100. No es necesario pero se puede agregar el punto decimal. Presionamos Enter y deberíamos observar los cambios en el graficador. </p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura04.png?raw=true" />
</p>
<p>Podríamos agregar un segundo generador de señales sinusoidales y manipular el periodo, el desfase y la amplitud a voluntad. Intentémoslo:</p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura05.png?raw=true" />
</p>
<p>Podemos observar que cláramente hay un error en la representación de las señales que estamos mandando. Este error es muy común y por ello es importante tener cuidado; en este caso se están mandando las lecturas de ambos generadores de señal por medio de los puertos 8080. Tenemos que cambiar uno de los dos para que se envíen por medio de otro puerto (el 8081). Así, si cambiamos el puerto de uno de los dos generadores obtendremos lo siguiente:</p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura06.png?raw=true" />
</p>
<p>Tal y como esperábamos.</p>
<p>Podemos cerrar las aplicaciones de generación de señal en cualquier momento y no habrá ningún problema en cuanto al graficador de señales se refiere. Podríamos abrir y cerrar tantos generadores de señales como quisiéramos. Igualmente, si llegáramos a cerrar el graficador por error, podríamos volverlo a abrir e inmediatamente comenzaría a graficar los valores en caso de que un generador de señales ya se encontrara encendido.</p>
<h2 id="traductor-monitor-serial---udp"><a class="header" href="#traductor-monitor-serial---udp">Traductor Monitor Serial - UDP</a></h2>
<p>Este programa tiene la función de actuar como intermediario entre la conexión de la ESP-32 con la computadora y así poder manipular los valores brindados por la tarjeta de una manera útil. </p>
<p>Podemos arrancar la aplicación al igual que con las otras abriendo el archivo &quot;traductor-serial-udp.jar&quot; con el cual deberíamos ver una ventanita de este estilo:</p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura07.png?raw=true" />
</p>
<p>En esta ventanita tenemos más opciones que en el generador de funciones seno ya que hay una serie de cosas adicionales que tenemos que contemplar al momento de traducir los valores que nos suministra la ESP-32. De manera general, si el circuito que usted armó es exactamente igual al propuesto en el capítulo anterior, lo único que deberá cambiar es el valor del PUERTO cuando quiera conectar dos señales (sinusoidales o incluso dos traductores de la ESP-32) tal y como lo hicimos en el ejemplo pasado. Además, también deberá cambiar la celda que está marcada como COMPORT. Esta celda sirve para seleccionar el puerto serial al que queremos que nuestro programa se conecte.</p>
<p>Si quisiera utilizar un arreglo diferente de resistores (por ejemplo, para tener una menor atenuación de los voltajes o tener una mayor atenuación para lectura de voltaje más elevados a los 50V de diseño, tendrá que registrar los valores de los resistores tal y como se indica en la sección del diseño avanzado) <a href="../cap_03_avanzado/01_alambrado.html">Aquí</a></p>
<p>Para el grueso de los usuarios, se espera que se pueda conectar directamente al conectar nuestro dispositivo armado con los resistores y la tarjeta ESP-32. </p>
<p>Comencemos entonces con un ejemplo. Se sugiere ya tener conectada la tarjeta ESP-32 al momento de arrancar el programa traductor, sin embargo, no es indispensable. </p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura08.png?raw=true" />
</p>
<p>Es necesario picar la celda marcada con COMPORT. Presionar esta celda abrirá una pequeña ventana donde estarán listados todos los dispositivos conectados por medio de comunicación serial. El número a la izquierda es el índice que ocupan, el nombre a la derecha es el nombre que les asigna el sistema operativo. De no abrirse con el primer clic, vuelva a presionar la celda.</p>
<p>Debería abrirse una pequeña ventana como ésta:</p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura09.png?raw=true" />
</p>
<p>Identifique el índice del dispositivo que desea conectar. En Windows generalmente buscaremos conectarnos al dispositivo COM0, sin embargo, esto puede cambiar de equipo en equipo. En el caso de Mac y Linux buscaremos conectarnos al dispositivo de nombre tty.usbserial-####. En la presentación realizada aquí con Mac nos conectaremos entonces al índice 7. En el ejemplo en Windows nos conectaremos al índice 0.</p>
<p>Cambiamos el valor en COMPORT y presionamos Enter. 
Nota: Podemos estar seguros de que el cambio se realizó si al presionar Enter nos cambia a la celda siguiente.</p>
<p>Tras asegurarnos que la celda COMPORT y la celda PUERTO estén en los valores que deseamos podemos presionar el botón de &quot;Encender&quot;. En el caso de esta presentación, dado que no se está aplicando ningún voltaje y la conexión con el COMPORT fue exitosa, podemos observar la línea amarilla de voltaje en el voltaje de 0V.</p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura10.png?raw=true" />
</p>
<p>Podemos asegurarnos que ya existe lectura de voltaje si tocamos las conexiones de la ESP-32 con la mano y ocasionamos ruido. No es la mejor manera de asegurarnos de la conexión pero es una manera rápida y efectiva en campo. </p>
<h3 id="error-de-conexión"><a class="header" href="#error-de-conexión">Error de conexión</a></h3>
<p>Al presionar el botón de encendido o actualizar la celda COMPORT existe la posibilidad de que la conexión no se realice de manera correcta. Si esto llegara a pasar aparecerá una ventanita como la siguiente:</p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura11.png?raw=true" />
</p>
<p>Cuando esto suceda, cierre la ventana, actualice el puerto COMPORT y vuelva a presionar el botón de &quot;Apagado&quot; para encender.</p>
<h2 id="controles-del-graficador"><a class="header" href="#controles-del-graficador">Controles del graficador</a></h2>
<p>Todos los controles son accesibles desde el teclado, sin embargo, se pueden realizar los mismos cambios desde la interfaz gráfica al presionar F1. </p>
<p>Las unidades son un poco extrañas al momento de trabajar en la GUI por lo que requieren un poco de explicación. Al presionar F1 obtendremos esta pequeña interfaz:</p>
<p align="center">
  <img src="../../capturas/1_manual/uso/captura12.png?raw=true" />
</p>
<p>Las unidades en la sección de Escala X son los nanosegundos representados en cada pixel en la escala original de la ventana.
Las unidades en la sección de Escala Y son los voltios representados en cada pixel en la escala original de la ventana en el eje Y. Al modificar este valor también se modifica el valor de voltaje en el eje Y al realizar graficaciones en modo Lissajous.</p>
<p>El desplazamiento en X y Y están marcados con un % ya que se pueden realizar desplazamientos de 1% de la ventana en los ejes izquierda-derecha o arriba-abajo. 
Al presionar el modo Lissajous se entra en modo de graficación de figuras Lissajous. </p>
<p>Para realizar los cambios en las celdas es necesario presionar el botón Enter al igual que en el resto de las aplicaciones.</p>
<h3 id="atajos-de-teclado-recomendados"><a class="header" href="#atajos-de-teclado-recomendados">Atajos de teclado (RECOMENDADOS)</a></h3>
<p>Los mismos cambios que se pueden realizar en la interfaz de usuario se pueden realizar desde el teclado. Además, se puede pausar la graficación desde el teclado. </p>
<div class="table-wrapper"><table><thead><tr><th></th><th>Incremento</th><th>Decremento</th></tr></thead><tbody>
<tr><td>Escala Y</td><td>Q</td><td>A</td></tr>
<tr><td>Escala X</td><td>W</td><td>S</td></tr>
<tr><td>Despl. X</td><td>Z</td><td>X</td></tr>
<tr><td>%Despl. Y1</td><td>U</td><td>J</td></tr>
<tr><td>%Despl. Y2</td><td>I</td><td>K</td></tr>
<tr><td>Pausa</td><td>Barra</td><td>espaciadora</td></tr>
<tr><td>Modo Lissajous</td><td>L</td><td>L</td></tr>
</tbody></table>
</div>
<p>Los atajos tienen un poquito de lógica una vez uno empieza a usarlos. Es más rápida la navegación por medio de teclado por lo que es recomendable para todos los usuarios. </p>
<p>NOTA: El uso de la interfaz gráfica o del teclado ambos realizarán los cambios aún cuando la graficación esté pausada. Para realizar el análisis de señales con cuidado se recomienda presionar la barra espaciadora para pausar la lectura de señales y posteriormente manipularlas ya sea con teclado o con la interfaz gráfica. </p>
<p>NOTA: La ventana de graficación se puede escalar a placer, el tamaño de las etiquetas escalará de acuerdo al tamaño de la ventana en el eje horizontal.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../cap_01_manual_usuario/02_esp32.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../cap_02_disenno/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../cap_01_manual_usuario/02_esp32.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../cap_02_disenno/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
